<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>변수와 자료형</title>
</head>

<body>
    <h1>변수와 자료형</h1>
    <h3>* 변수 선언위치에 따른 전역변수/지역변수</h3>
    <pre>
        &lt;script&gt;
            let 변수명;     //전역변수 (global)
            const 변수명;   // 상수(값을 할당하면 바꿀수 없음.)

            var 변수명;     // 전역변수(global) 과거에 자주 쓰이던 키워드

            변수명;         // 전역변수(global)

            function 함수명(){
                var 변수명; // 지역변수(local)
                변수명;     // 전역변수
            }

            var 변수 문제점이 많아서 let, const로 대체됨
            but, 아직도 많은 스크립트에서 var가 사용되고 있음.


        &lt;/script&gt;
    </pre>

    <script>
        //1) 영역문제
        if (true) {
            var varTest = "var";
            let letTest = "let";
        }
        console.log(varTest); //에러가 안남(함수단위 스코프, 함수내에서 선언되면 함수전체, 전역변수로 선언되면 전역에 남아있다.)
        console.log(letTest); //에러남(블록단위 스코프(자바와 비슷))

        // 2) 중복문제
        var user;
        var user;

        // let user2;
        // let user2;

        function test() {
            console.log(str);
        }
        //let 유일하게 window 함수에 맵핑x
    </script>

    <h3>*자료형</h3>
    <p>
        변수 선언 시 자료형을 별도로 지정하지 않음(자료형의 개념이 없는건 아님) <br>
        -> 변수에 대입되는 값에 따라서 알아서 자료형이 자동으로 결정됨
    </p>

    <h4>자바스크립트의 자료형</h4>

    <ul>
        <li>String (문자열)</li>
        <li>number (숫자)</li>
        <li>BigInt (엄청큰 숫자)</li>
        <li>boolean (논리값)</li>
        <li>object (객체)</li>
        <li>function (함수)</li>
        <li>undefined (초기화가 안된 변수)</li>
    </ul>

    <button onclick="typeTest();"> 자료형 테스트</button>
    <div id="area" style="border:1px solid black;"></div>

    <script>
        function typeTest() {

            var name = '홍길동';
            let age = 20;
            let flag = true;
            let hobby = ["영화", '음악', '낮잠'];
            const obj = new Object();
            const obj2 = {};
            const user = {
                name: '김갑생',
                age: 30,
                id: 'user01'
            }
            let testFn = function () {
                alert("zzzz");
            }
            let noVal;


            // 자료형 확인시 사용되는 함수 : typeof(변수명)
            // divEl.innerHTML = name + "의 자료형 : " + typeof(name) + "<br>";
            printDivEl(name);
            printDivEl(age);
            printDivEl(flag);
            printDivEl(user);
            printDivEl(testFn);
            printDivEl(noVal);
            //특이케이스
            typeof (null);//object
            // null은 별도의 고유한 자료형을 가지는 특수한 값임. 객체가 아님 --> typeof메서드의 오류.
            // 하위호환성을 위해 오류를 수정하지 않고 남겨둔 상황.
            //객체 내부의 속성에 접근할때 ==> .(온점)으로 접근
            let divEl = document.getElementById("area");
            divEl.innerHTML += user.name + "의 나이는 : " + user.age + " 살이며 아이디는 " + user.id + "입니다. <br>";

        }
        function printDivEl(value) {
            let divEl = document.getElementById("area");
            divEl.innerHTML += value + "의 자료형 : " + typeof (value) + "<br>";
        }
    </script>

    <hr>
    <h3>* 문자열과 숫자간의 산술연산</h3>
    <button onclick="arithmetic();"> 산술연산 </button>
    <div id="area3" class="area big"></div>

    <script>
        function arithmetic() {
            let test1 = 7 + 7;
            let test2 = 7 + "7";
            let test3 = "7" + 7;
            let test4 = "7" + 7 + 7;

            console.log(test1, test2, test3, test4);

            //그 외의 산술연산
            let test5 = "7" * 7;
            let test6 = "7" - 7;
            let test7 = "7" / 7;
            // 문자열이 자동형변환으로 숫자로 변한뒤 산술연산이 시작됨. 이때 문자열에는 숫자만 존재해야함.

            let area3 = document.getElementById('area3');
            area3.innerHTML += "'7' * 7 : " + test5 + "<br>";
            area3.innerHTML += "'7' - 7 : " + test6 + "<br>";
            area3.innerHTML += "'7' / 7 : " + test7 + "<br>";

            // 강제형변환 (문자열 -> 숫자형)
            // number(문자열)
            // parseInt(문자열)
            // parseFloat(문자열)

            let iNum = 2; // 숫자
            let sNum = "3"; //문자열

            let test8 = iNum + sNum; // 2 + "3" => 23
            let test9 = iNum + Number(sNum);
            let test10 = iNum + window.parseInt(sNum);
            let test11 = iNum + parseFloat(sNum);

            console.log(test8, test9, test10, test11);

            let fNum = "1.234";
            let test12 = iNum + fNum; // 2+"1.234" => 21.234
            let test13 = iNum + Number(fNum);
            let test14 = iNum + parseInt(fNum);
            let test15 = iNum + parseFloat(fNum);
            console.log(test12, test13, test14, test15);
        }
    </script>

    <hr>

    정수1 : <input type="number" id="num1"> <br>
    정수2 : <input type="number" id="num2"> <br>

    <script>
        function plus(){
            let num1 = document.getElementById("num1").value;
            let num2 = document.getElementById("num2").value;
            let sum = Number(num1) + Number(num2);
            let sum2 = parseInt(num1) + parseInt(num2);
            let sum3 = parseFloat(num1) + parseFloat(num2);

            let sum4 = num1*1 + num2*1;

            document.getElementById("result").innerHTML = '덧셈 결과 : ' + sum4;

        }
    </script>
    <label id="result"></label> <br>
    <button onclick="plus();">덧셈</button>

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

</body>

</html>